# 2020/04

## 2020/04/23(Thu)

- BPF performance tools読み
  - kprobes, uprobesの概要を理解する
  - 音読している間は以前よりは日本語で考えることが減った気がする. が知らない単語も多いのでそこで我に返る
- zsh補完
  - node.jsの inspect周りの改善
- minilib作成
  - CLionでは `CMAKE_C_FLAGS_DEBUG "-D_DEBUG"` しないとデバッグ機能が働かないっぽい. C++プロジェクトでもこれが必要. 謎.
  - C++ IDEを他に探すべきなのかもしれない. Linuxだと Qt Creatorとか ?? Visual Studioが欲しい...

## 2020/04/22(Wed)

- Real HTTP 2nd edition読み続き
  - HTTP 1.1の keep aliveの理解
  - 1.0クライアント, サーバしか書いたことがないので 1.1対応のものを書いてみたい
- zsh補完作成
  - nodeの更新と protoc(protocol buffers compiler)
  - protocはドキュメントを読み間違えてえらく遠回りをしたが, 知らないことをいくつも知れたことはよかった
- markdown major-mode作成
  - 想像以上に面倒くさく, 先が長い. 地道にやる
- quickrun2 rewrite作業
  - 少しずつ進んでいるが, よいデータ構造がまだ思いつかないので, そこを解消したい
- minilib
  - CMakeでハマる. ベストプラクティスを知る必要がある. サブディレクトリごとに CMakeLists.txtを置くのが主流っぽい
    - 今まではトップディレクトリに置いたものだけで頑張っていたが, CLionだとそれだと余計な警告が出たりする
- 反省
  - プログラミングばかりやると勉強時間が削られるので時間を決めてやるべきと反省

## 2020/04/21(Tue)

- bpf performance tools読み
  - flame graphの章
    - 読み方はなんとなく理解できたが, 実際の結果と照らし合わせて理解した方がよさそう
    - 参考 https://deeeet.com/writing/2016/05/29/go-flame-graph/
- libuvドキュメントの修正
  - https://github.com/libuv/libuv/pull/2802
- quickrun2 rewrite作業
  - マクロにハマる
  - 参考になるソースが多いのでもっと参考にするべきであった
- protoc zsh completion作成
  - 基本的な部分は完了
  - 残件
    - `@`で始まるとき, proto_path引数の PATHから .protoファイルを探す
      - _files引数の `-W`(ディレクトリ指定)が複数指定できないので, `_alternative`を使って連結する必要がある. 動的に任意の数を `_alternative`に渡す方法がまだわかっていないので調査が必要
    - pluginを補完する機能
      - `_alternative _normal _files`でいけるかと思ったが, オプション部分も候補に含まれてしまってひどい結果になる. オプション部を取り除く工夫が必要(それだけで解決するかはまだわかっていない)
